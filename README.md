# ðŸŽ wishlist ðŸŽ„

wishlist is a small christmas application for making privately hosted wish lists:

## Features

- Can be set up and hosted in minutes for free using Supabase and Vercel
- Presents can be added directly using Supabase
- Invited users can manage their choices - reserve presents or change your mind

## Stack

> [Template repository](https://github.com/fldsblzs/sveltekit-supabase-template)

- [Svelte](https://svelte.dev/)
- [SvelteKit](https://kit.svelte.dev/)
- [Tailwind CSS](https://tailwindcss.com/)
- [DaisyUI](https://daisyui.com/)
- [Supabase](https://supabase.com/)

## Development

1. Create a `.env` file based on `.env.example`.

2. Install dependencies:

```
> pnpm i
```

3. Run dev server:

```
> pnpm dev
```

## Deployment

0. Fork this repository (*optional*).
1. Set up your new [supabase](https://supabase.com/docs) project for wishlist.
2. Create two database tables on supabase:

```SQL
create table wish (
  id bigint generated by default as identity primary key,
  name text not null,
  email text not null,
);

create table wish (
  id bigint generated by default as identity primary key,
  title text not null,
  url text not null,
  reserver text not null,
  price text not null,
  category text not null,
  wisher_id bigint, 
  constraint wisher_id
      FOREIGN KEY(wisher_id) 
	  REFERENCES wisher(id)
);

```
3. Additional supabase configuration (*recommended*):
   - Enable row level security (RLS) for both tables
   - Create new policies for `authenticated` target role with simple `true` expressions.
   - Disable user sign up
   - Invite your loved ones
 
4. Disable the default email authentication provider, set up and enable [Google](https://supabase.com/docs/guides/auth/auth-google).
5. Create [Vercel](https://vercel.com/changelog/sveltekit-projects-can-now-be-deployed-with-zero-configuration) SvelteKit deployment with GitHub integration:
    - Set up the same environment variables as in `.env.example`

## Adding data

Using the supabase table editor:

1. Add users based on their Google accounts (email) to `wisher` table
2. Add options for each user to the `wish` table